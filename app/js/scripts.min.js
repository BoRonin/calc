"use strict";function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function adjustKrone(e,t){var r=[].concat(_toConsumableArray(e.value));119!==Number(""+r[3]+r[4]+r[5])||allProds[5]?allProds[4]&&allProds.splice(-1,1):allProds.push({amount:2,img:"https://pp.userapi.com/c9266/v9266282/2fa/oy2a54KWUoQ.jpg",name:"Наконечник 605",price:1,quantity:2,ts:Number("435605"+t.value)})}function activateFirstPick(e){var t=e.target.closest(".carType");if(t){e.parentElement;var r=t.children[1].innerHTML;if(t.classList.contains("activeFirstPick"))console.log("has activeFirstPick class");else{t.classList.add("activeFirstPick");var a=document.querySelector(".statusLineStepOne"),n=document.querySelector(".statusLineStepTwo");a.classList.remove("statusLineStepNext"),a.classList.add("statusLineStepActive"),n.classList.add("statusLineStepNext"),a.innerHTML="&#10004; <span>Тип<br> "+r+"</span>"}document.querySelector(".firstPick").style.opacity="0",setTimeout(function(){document.querySelector(".firstPick").style.display="none"},300),setTimeout(function(){appearSecondPick()},300)}}function activateSecondPick(e){var t=e.target.closest(".carType2");if(t){e.parentElement;var r=t.children[1].innerHTML;if(t.classList.contains("activeSecondPick"))console.log("has activeSecondPick class");else{t.classList.add("activeSecondPick");var a=document.querySelector(".statusLineStepTwo"),n=document.querySelector(".statusLineStepThree");a.classList.remove("statusLineStepNext"),a.classList.add("statusLineStepActive"),n.classList.add("statusLineStepNext"),a.innerHTML="&#10004; <span>Серия<br> "+r+"</span>"}document.querySelector(".secondPick").style.opacity="0",setTimeout(function(){document.querySelector(".secondPick").style.display="none"},300),setTimeout(function(){appearThirdPick()},300)}}function activathirdPick(e){var t=e.target.closest(".carType2");if(t){e.parentElement;var r=t.children[1].innerHTML;if(t.classList.contains("activeSecondPick"))console.log("has activeSecondPick class");else{t.classList.add("activeSecondPick");var a=document.querySelector(".statusLineStepThree"),n=document.querySelector(".statusLineStepThree");a.classList.remove("statusLineStepNext"),a.classList.add("statusLineStepActive"),n.classList.add("statusLineStepNext"),a.innerHTML="&#10004; <span>Серия<br> "+r+"</span>"}document.querySelector(".secondPick").style.opacity="0",setTimeout(function(){document.querySelector(".secondPick").style.display="none"},300),setTimeout(function(){appearThirdPick()},300)}}function appearSecondPick(){document.querySelector(".secondPick").style.display="block",setTimeout(function(){return document.querySelector(".secondPick").style.opacity="1"},200)}function appearThirdPick(){document.querySelector(".thirdPick").style.display="block",setTimeout(function(){return document.querySelector(".thirdPick").style.opacity="1"},200)}document.addEventListener("DOMContentLoaded",function(){document.querySelector(".calc");document.querySelector(".firstPick").addEventListener("click",function(e){return activateFirstPick(e)}),document.querySelector(".secondPick").addEventListener("click",function(e){return activateSecondPick(e)}),document.querySelector(".toTrash").addEventListener("click",function(){return console.table(allProds)});var S=document.querySelector(".color"),e=document.querySelector(".length"),f=document.querySelector(".profile"),P=document.querySelector(".kronsh"),h=document.querySelector(".end"),k=document.querySelector(".ring");f.addEventListener("change",function(){return f.value.startsWith("440")?void((e[0].value=200)&&(e[0].value=150,e[0].innerHTML=150,e[1].value=200,e[1].innerHTML=200,e[2].value=240,e[2].innerHTML=240)):void((e[0].value=150)&&(e[0].value=200,e[0].innerHTML=200,e[1].value=240,e[1].innerHTML=240,e[2].value=300,e[2].innerHTML=300))}),S.addEventListener("change",function(){for(var e=[].concat(_toConsumableArray(S.value)),t=0;t<f.length;t++){var r=f[t],a=[].concat(_toConsumableArray(r.value));a[6]=e[0],a[7]=e[1],a[8]=e[2];var n=a.join("");f[t].value=n,f[t].innerHTML=n}for(var c=0;c<P.length;c++){var o=P[c],i=[].concat(_toConsumableArray(o.value));i[6]=e[0],i[7]=e[1],i[8]=e[2];var s=i.join("");P[c].value=s,P[c].innerHTML=s}for(var u=0;u<h.length;u++){var l=h[u],d=[].concat(_toConsumableArray(l.value));d[6]=e[0],d[7]=e[1],d[8]=e[2];var p=d.join("");h[u].value=p,h[u].innerHTML=p}for(var v=0;v<k.length;v++){var m=k[v],y=[].concat(_toConsumableArray(m.value));y[6]=e[0],y[7]=e[1],y[8]=e[2];var L=y.join("");k[v].value=L,k[v].innerHTML=L}allProds[0].ts=Number(f.value),allProds[1].ts=Number(P.value),allProds[2].ts=Number(h.value),allProds[3].ts=Number(k.value)}),P.addEventListener("change",function(){adjustKrone(P,S)})});var allProds=[{amount:1,img:"https://pp.userapi.com/c9266/v9266282/2fa/oy2a54KWUoQ.jpg",name:"Профиль",price:1,quantity:1,ts:440200105},{amount:1,img:"https://pp.userapi.com/c830209/v830209609/2d598/XovK7FVpYCM.jpg",name:"Кронштейн",price:1,quantity:1,ts:435110105},{amount:1,img:"https://pp.userapi.com/c310830/v310830469/59d5/gF-598GyC5g.jpg",name:"Наконечник",price:1,quantity:1,ts:435601105},{amount:1,img:"https://pp.userapi.com/c623321/v623321725/8805/3Zo4UJu8-Mw.jpg",name:"Кольца",price:1,quantity:1,ts:435035105}];function clearCart(){for(var e=tcart.products.length,t=0;t<e;t++)tcart.products.pop();tcart.amount=0,tcart.prodamount=0,tcart.total=0}function prod(e){clearCart();var t=JSON.parse(JSON.stringify(e)),r=!0,a=!1,n=void 0;try{for(var c,o=t[Symbol.iterator]();!(r=(c=o.next()).done);r=!0){var i=c.value;tcart.products.push(i),tcart.amount+=i.price*i.quantity,tcart.prodamount+=i.price*i.quantity,tcart.total+=i.quantity}}catch(e){a=!0,n=e}finally{try{!r&&o.return&&o.return()}finally{if(a)throw n}}document.querySelector(".t706__carticon-counter").innerHTML=tcart.total,tcart__openCart()}